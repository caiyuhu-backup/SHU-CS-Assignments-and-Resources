存储器与CPU的协同工作

主存与CPU的链接由于主存与CPU间速度差异较大，一种是提升主存本身的工作速度，但经过提升后存储器与CPU之间的速度差距仍然很大，而另一种就是此处用到的。CPU访问到的存储器的部分只是很小的一块，将很小的一块放入贵的存储器之中，从而降低成本，提升速度![image-20220601083323771](C:\Users\Silence\AppData\Roaming\Typora\typora-user-images\image-20220601083323771.png)

主存的任务是存储指令与数据，且存放在连续的数组之中。

(1)空间局部性

(2)时间局部性



![image-20220601083912353](C:\Users\Silence\AppData\Roaming\Typora\typora-user-images\image-20220601083912353.png)



![image-20220601084043435](C:\Users\Silence\AppData\Roaming\Typora\typora-user-images\image-20220601084043435.png)	<img src="C:\Users\Silence\AppData\Roaming\Typora\typora-user-images\image-20220601084137040.png" alt="image-20220601084137040" style="zoom:50%;" />

![image-20220601084406468](C:\Users\Silence\AppData\Roaming\Typora\typora-user-images\image-20220601084406468.png)



![image-20220601084827295](C:\Users\Silence\AppData\Roaming\Typora\typora-user-images\image-20220601084827295.png)

全相联映射在把某一块调入Cache当中时，完全不保持它与相邻的块之间的顺序的，他们随意的放到cache当中的某一块，而直接映射保持了主存块与块之间相对的位置经过一个轮次之后，再保持相应的局部顺序，而组相邻映射相当于在直接映射的基础之上，将其长度减少，变为了组的长度

![image-20220601085311355](C:\Users\Silence\AppData\Roaming\Typora\typora-user-images\image-20220601085311355.png)

![image-20220601085334587](C:\Users\Silence\AppData\Roaming\Typora\typora-user-images\image-20220601085334587.png)





Cache写策略

cache中的内容相当于主存中的一个副本



![image-20220601085544416](C:\Users\Silence\AppData\Roaming\Typora\typora-user-images\image-20220601085544416.png)



![image-20220601085809649](C:\Users\Silence\AppData\Roaming\Typora\typora-user-images\image-20220601085809649.png)

![image-20220601085834922](C:\Users\Silence\AppData\Roaming\Typora\typora-user-images\image-20220601085834922.png)

![image-20220601085852273](C:\Users\Silence\AppData\Roaming\Typora\typora-user-images\image-20220601085852273.png)





![image-20220601090032297](C:\Users\Silence\AppData\Roaming\Typora\typora-user-images\image-20220601090032297.png) 
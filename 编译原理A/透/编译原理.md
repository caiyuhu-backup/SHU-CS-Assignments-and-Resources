# 编译原理

## 题型

填空 10

选择 10

判断 10

后面 70

简答 5 题

大题 5 题

- 第三章 正规式子
- 四元式
- 优化
- LL(1)
- LR(1)



## 第1章 引论

1. 一个编译程序就是一个**语言翻译**程序。他把一种高级语言书写的程序翻译成另一种低级语言的等价的程序。

2. 编译过程6阶段：**词法分析**、**语法分析**、**语义分析**、**中间代码生成**、**代码优化**、**目标代码生成**。

  - 词法分析：从左到右一个字符一个字符地读入源程序，对构成源程序的字符流进行扫描和分解，从而识别出一个个单词。
  - 语法分析：在词法分析的基础上将单词序列分解成各类语法短语，如“程序”、“语句”、“表达式”等。
  - 语义分析：审查源程序有无语义错误，为代码生成阶段手机类型信息。
  - 中间代码生成：编译程序将源程序编程一种内部表示形式，这种内部表示形式叫做中间语言或中间代码。
  - 代码优化：对前一阶段产生的中间代码进行变换或进行改造，目的是是生成的目标代码更为高效，即省时间和省空间。
  - 目标代码生成：把中间代码变换成特定机器上的绝对指令代码或可重定位的指令代码或或会变指令代码。

  <img src="https://shu-silence.oss-cn-shanghai.aliyuncs.com/img/2023/image-20230605153143122.png" alt="image-20230605153143122" style="zoom:33%;" />

3. 对下列错误信息，请指出可能是编译的哪个阶段（词法分析、语法分析、语义分析、代码生成）报告的。

  - else没有匹配的if **语法分析**
  - 数组下标越界 **语义分析**
  - 使用的函数没有定义 **语义分析**
  - 在数中出现非数字字符 **词法分析**

4. 编译的过程可以分为**前端**和**后端**：

  - 前端的工作：依赖于**源语言**，与目标机器无关。
  - 前端通常包括：词法分析、语法分析、语义分析、中间代码生成，某些优化工作
  - 后端的工作：依赖于**目标机器**，一般不依赖于源语言
  - 后端通常包括：**目标代码生成**，以及**相关出错处理**和**符号表**的实现。

5. 编译程序按照其完成规定任务的过程中国呢对源程序或其等价的中间语言程序从头到尾扫视的次数分为**一遍扫描**和**多遍扫描**。

6. 一个编译过程可以由一遍、两遍或多变完成。在实际的编译系统的世界中，编译的几个阶段应该怎样组合，即编译程序究竟分为几遍，参考的因素主要是**源语言**和**机器（目标机）**的特征。

7. 遍数更多，内存占用更少，编译程序的逻辑结构可能更清晰，但也意味着读写中间文件的次数会增多，速度会更慢。

8. 解释程序

  <img src="https://shu-silence.oss-cn-shanghai.aliyuncs.com/img/2023/image-20230604103556381.png" alt="image-20230604103556381" style="zoom:33%;" />

  - 解释程序不产生目标程序文件（**编译程序会生成目标程序**）
  - 解释不区别翻译阶段和执行阶段
  - 解释源程序的每条语句后直接执行
  - 程序执行期间一直有解释程序守候
  - 经常用于实现虚拟机

9. 用高级语言书写的源程序都必须通过编译，产生中间代码后才能投入运行 ❌ **解释型语言**

10. 编译程序是对高级语言程序的解释运行 ❌ **翻译** 不是解释运行

11. 编译程序于具体的机器有关，与具体的语言无关 ❌ 前端和语言有关，后端和机器有关

12. 词法分析器用于识别**单词**

13. 编译的过程分为**编译**和**运行**

14. 此外，一个完整的编译程序必须包括**表格管理程序**和**出错处理程序**。

15. **中间代码生成**和**代码优化**部分不是每个编译程序都必备的

16. PL/0编译程序采用多遍扫描方式的编译过程 ❌ **单遍**

17. 上下文无关文法与上下文有关文法相比较，上下文无关文法的限制条件多、文法的描述能力弱 ✅

18. PL/0程序具有分程序结构、过程可嵌套且支持递归调用 ✅

## 第2章 文法和语言

1. 文法是以有穷的集合刻画无穷的集合的一个工具。 ✅
2. 字母表（符号集）：元素的非空有穷集合
    <img src="https://shu-silence.oss-cn-shanghai.aliyuncs.com/img/2023/image-20230605173633906.png" alt="image-20230605173633906" style="zoom:33%;" />
3. 符号串的头、尾、固有头、固有尾

若z=abc是符号串。那么z的头是 空、a、ab、abc，除abc外都是固有头；z的尾是 空、c、bc、abc，除abc外，其他都是固有尾。

<img src="https://shu-silence.oss-cn-shanghai.aliyuncs.com/img/2023/image-20230605174205802.png" alt="image-20230605174205802" style="zoom:33%;" />

4. 直接推导、直接规约

	直接推导只使用到了1个产生式，推了1次

	<img src="https://shu-silence.oss-cn-shanghai.aliyuncs.com/img/2023/image-20230605175358411.png" alt="image-20230605175358411" style="zoom:33%;" />

5. 最左推导、最右推导

	**最右推导**是规范推导

	<img src="https://shu-silence.oss-cn-shanghai.aliyuncs.com/img/2023/image-20230605175459999.png" alt="image-20230605175459999" style="zoom:33%;" />

6. 句型、句子

句子仅由终结符号组成。 ✅

<img src="https://shu-silence.oss-cn-shanghai.aliyuncs.com/img/2023/image-20230605174601049.png" alt="image-20230605174601049" style="zoom:33%;" />

7. 语言、文法等价

语言是一切**句子**的集合

两者**语言等价**，则语法等价（语言是一切句子的集合） ✅

<img src="https://shu-silence.oss-cn-shanghai.aliyuncs.com/img/2023/image-20230605174809253.png" alt="image-20230605174809253" style="zoom:33%;" />

8. 文法的类型

<img src="https://shu-silence.oss-cn-shanghai.aliyuncs.com/img/2023/image-20230605175033376.png" alt="image-20230605175033376" style="zoom:33%;" />

9. 文法的二义性
  - 若一个文法存在某个句子对应**两棵不同的语法树**，则称这个文法是二义的。
  - 若一个文法存在某个句子有**两个不同的最左（右）推导**，则称这个文法是二义的。
  - 如果两个文法等价，他们仍有可能是文法二义性的。 ✅
10. 短语、直接短语（简单短语）、句柄

记住一定是**最左直接短语**为句柄！！

<img src="https://shu-silence.oss-cn-shanghai.aliyuncs.com/img/2023/image-20230605180256120.png" alt="image-20230605180256120" style="zoom:33%;" />

11. 一个判断句柄、短语、直接短语的例子

<img src="https://shu-silence.oss-cn-shanghai.aliyuncs.com/img/2023/image-20230604112703475.png" alt="image-20230604112703475" style="zoom:33%;" />

## 第3章 词法分析

1. 词法分析程序和语法分析程序的接口方式

<img src="https://shu-silence.oss-cn-shanghai.aliyuncs.com/img/2023/image-20230605180846232.png" alt="image-20230605180846232" style="zoom:33%;" />

2. 在识别出下一个单词同时验证其词法正确性之后，词法分析程序将结果以**单词符号**的形式发送至语法分析以回应其请求。 (单词种别，单词本身的值)
3. 正规式也称**正则表达式**，也是表示正规集的工具。
4. 一个正规语言可以由正规文法定义，也可以由正规式定义，对任意一个正规文法，存在一个定义同一个语言的正规式子。繁殖，对每个正规式，存在一个生成同一个语言的正规文法。
5. DFA

<img src="https://shu-silence.oss-cn-shanghai.aliyuncs.com/img/2023/image-20230605182247734.png" alt="image-20230605182247734" style="zoom: 33%;" />

6. NFA->DFA的转换

与某一NFA等价的DFA不是唯一的

<img src="https://shu-silence.oss-cn-shanghai.aliyuncs.com/img/2023/image-20230605182444230.png" alt="image-20230605182444230" style="zoom:33%;" />

7. 确定自动机的化简可以通过**消除无用状态**和**合并等价状态**完成。

## 第4章 自顶向下语法分析方法

1. LL(1)分析

<img src="https://shu-silence.oss-cn-shanghai.aliyuncs.com/img/2023/image-20230605193244201.png" alt="image-20230605193244201" style="zoom:33%;" />

2. 某些非LL(1)文法到LL(1)文法的等价变换

	- 提取左公共因子

		- 不一定每个文法的左公共因子都能在有限的步骤哪替换成无公共因子的文法。

		- 一个文法提取了左公共因子后，只是结局了相同左部产生式右部的FIRST集不相交的问题，当改写后的文法不含空产生式，且无左递归时，则改写后的文法是LL(1)文法，否则还需用LL(1)文法的判别方式进行判断才能确定是否为LL(1)文法。

	<img src="https://shu-silence.oss-cn-shanghai.aliyuncs.com/img/2023/image-20230605194716876.png" alt="image-20230605194716876" style="zoom:33%;" />

	- 消除左递归

<img src="https://shu-silence.oss-cn-shanghai.aliyuncs.com/img/2023/image-20230605195055084.png" alt="image-20230605195055084" style="zoom:33%;" />

3. 预测分析器

一个表驱动的LL(1)分析程序由**预测分析程序**、**先进后出栈**、**预测分析表**三个部分组成，其中只有预测分析表与文法有关，而分析表有可以用一个矩阵表示。

<img src="https://shu-silence.oss-cn-shanghai.aliyuncs.com/img/2023/image-20230605201230388.png" alt="image-20230605201230388" style="zoom:33%;" />

## 第5章 自底向上分析

1. 由于自底向上分析的移进-规约过程是自顶向下最右推导的逆过程，而最右推导为规范推导，**自左向右的规约过程也称规范规约**。
2. 算符有限分析法中对句型中的**最左素短语**进行规约。

## 第6章 LR分析

1. 自底向上和自顶向下的对比

<img src="https://shu-silence.oss-cn-shanghai.aliyuncs.com/img/2023/image-20230605211346325.png" alt="image-20230605211346325" style="zoom:33%;" />

<img src="https://shu-silence.oss-cn-shanghai.aliyuncs.com/img/2023/image-20230605211409190.png" alt="image-20230605211409190" style="zoom:33%;" />

2. 一个LR分析器由3部分组成
	- **总控程序**（驱动程序） 对所有的LR分析器，总控程序都是一样的
	- **分析表**或分析函数 不同的文法分析表将不同，同一文法采用的LR分析器不同时，分析表也不同。分析表可分为**ACTION表**（分析动作表）和**GOTO表**（状态转换表）
	- **分析栈**（先进后出栈）
3. LR分析法特征

LR看的是**句柄**！！！

<img src="https://shu-silence.oss-cn-shanghai.aliyuncs.com/img/2023/image-20230605211851772.png" alt="image-20230605211851772" style="zoom:33%;" />

4. 一个二义性文法绝对不是LR(K)文法 ✅
5. LR(0)项目集规范族的类型可以分为以下4种

移进、待约、归约、接受

<img src="https://shu-silence.oss-cn-shanghai.aliyuncs.com/img/2023/image-20230605214649773.png" alt="image-20230605214649773" style="zoom:33%;" />



## 多选

3. 下列符号哪个是该文法的句子
4. LL文法 什么是LL(0) 什么是LL(1)

## 第7章

1. 属性文法有概念

<img src="https://shu-silence.oss-cn-shanghai.aliyuncs.com/img/2023/image-20230606101036686.png" alt="image-20230606101036686" style="zoom:33%;" />

2. 综合属性和继承属性

<img src="https://shu-silence.oss-cn-shanghai.aliyuncs.com/img/2023/image-20230606101556671.png" alt="image-20230606101556671" style="zoom:33%;" />

## 第8章

1. 符号表至少在**静态语义分析**之前已经创建
1. 符号表

<img src="https://shu-silence.oss-cn-shanghai.aliyuncs.com/img/2023/image-20230606102205692.png" alt="image-20230606102205692" style="zoom:33%;" />

3. 语法制导的编译程序能同时进行**语法分析、语义分析、中间代码生成**



## 第9章 运行时存储组织

1. 跟踪嵌套过程语言的每个外层过程的最新活动过程的记录，常用的办法有在过程活动记录中增设存取链，或者简历一张嵌套层次显示表display表。 ✅

## 第10章 代码优化和目标代码生成

1. 局部寄存器分配：在基本块范围内的寄存器分配
2. 全局寄存器分配（过程级寄存器分配）：过程范围内的寄存器分配
3. 静态分配：程序所需的数据空间在程序运行前就可以确定
4. 动态分配：堆区分配、栈区分配
5. 寄存器分配的原则是通过对寄存器的有效利用提高**总控程序**的运行效率





## 问题

1. 第2章，多种文法表达？
2. 正规式与正规文法的转化
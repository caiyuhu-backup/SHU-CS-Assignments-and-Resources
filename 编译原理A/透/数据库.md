# 数据库

## 题型

选择 15

判断 10

填空 10

三个大题 65

1. 第八章 （完整性、安全性）

断言 外键 触发器 授权 共 22分

2. 第十章

对象联系图 定义 查询 15分

3. 第五章 + 第八章 28

第八章的故障恢复

第七、九章不会超过5分

但是第九章貌似分值比第七章大个一两分

## 第五章 规范化设计

1. 外延和内涵无所谓？ p107
	- 外延是关系、表、当前值。表会删改，外延回溯水间变化
	- 内涵是对数据的定义以及数据完整性约束的定义。
		- 静态约束
		- 动态约束
2. 关系模式有数据冗余和操作异常
	1. 修改异常 改一个都要改
	2. 插入异常 插入未选课的，留空
	3. 删除异常 删掉唯一选课

3. 函数依赖表示中，一对多的关系 p108 5.2.2前的例子
4. 函数依赖的定义
5. 求候选键 **能说明理由**
6. 求属性集闭包
7. 求最小函数依赖集
8. 推理规则 p111 A1 A2 A3
	1. 自反性 AB->A
	2. 增广性 A->B AC->BC
	3. 传递性 A->B B->C A->C

9. 无损分解
10. 保持函数依赖的分解
11. 判断是第几范式 **能说明理由**
12. 范式的分解 
	1. 保持函数依赖的第三范式
	2. 既保持函数依赖，有无损分解的第三范式
	3. 无损分解为BC范式
13. 模式设计方法的原则 p122

- 表达性
	- 数据等价 无损分解
	- 语义等价 保持函数依赖

- 分离性
	- 只存储有直接联系的属性值，不把有间接联系的属性值放到一张表中。

- 最小冗余性
	- 模式个数和模式中总属性总数应当最少


## 第七章 数据库设计

1. 每个阶段做什么事情，要了解一下 p144 7.1.2

  - 可能考选择，给一个阶段，问做什么事情

  	- 规划 需求分析 概念设计 逻辑设计 物理设计 实现 运行和维护
  	- 规划：进行简历数据库的必要性和**可行性分析**，确定**数据库系统在组织中和信息系统中的地位**，以及各个**数据库之间的联系**
  	- 需求分析：通过调查，要从中获得每个用户对数据库的如下需求：
    		- 信息要求：用户将从数据库中获得的内容、性质。有信息要求导出数据库要求，即在数据库中存储那些数据
    		- 处理要求：用户要完成什么处理功能，对某种处理要求的响应时间，处理的方式是批处理还是联机处理。
    		- 安全和完整性要求
  	- 概念设计：把用户的信息要求统一到一个整体的逻辑结构中。概念结构能表达用户的要求，且独立于支持数据库的DBMS和硬件结构。**要出ER图**
  	- 逻辑设计：分成两部分。**数据库逻辑结构设计**和**应用程序设计**。数据库逻辑结构设计的任务是吧概念结构设计阶段设计的基本ER图转换为雨选用的具体机器上的DBMS所支持的数据模型相符合的逻辑结构，通常使用DDL描述。这种结构也成逻辑数据库。引用程序的设计应强调使用著语言和DBMS的DML进行结构是的程序设计。
  	- 物理设计：物理数据库结构的选择和逻辑设计中程序模块的精确化。成果是得到完整的、能实现的数据库结构。对模块说明的精确化是强调进行结构化程序的开发，产生一个可实现的算法集合。
  	- 实现：完成物理设计后，设计人员要用DBMS提供的数据定义语言讲逻辑设计和物理设计结构严格描述出来，形成源代码。
  	- 运行维护：手机和记录一部分数据。

  - >  第二次透题只说了这个部分 下面的都没说

2. 概括和聚集 知道一下 p153 7.4.4 

	- 概括 is a
	- 聚集 part of

3. 实体的分类和合并 p155 **可能考判断**

4. 联系的分类和合并 p155 **可能考判断**

5. 消除冲突 p159 要知道有哪几种冲突

	- 属性冲突
	- 结构冲突
	- 命名冲突

## 第八章 数据库的管理

1. 事务的定义 p183
2. 事务的四个性质 要求给出一段描述能够对应到哪一条性质 p174
	- 原子性
	- 一致性
	- 隔离性
	- 持久性
3. 故障的类型以及对应的恢复方法 给出故障，能判断类型，并给出恢复方法 p175
	- 事务故障
	- 系统故障
	- 介质故障
4. 恢复的基本原则 p175
	- 转储
	- 建立日志
5. 运行记录优先原则 p177
6. 检查点机制 p176
	- 哪些不做处理 哪些undo 哪些redo
	- 操作后，值应该怎样
7. 并发操作带来的三个问题 p178
	- 丢失更新问题
	- 读脏数据问题
	- 不一致分析问题
8. 两种封锁 X S 以及本身的含义 p180
9. 并发调度的可串行化 p183
10. 两段封锁法 p184
11. 完整性
	- 断言
	- 外键约束 on delete on update
	- 触发器 **只要记住三个触发器就可以了** 应该指的是 update delete insert
12. 数据库的安全性 p191
	- 授权 Grant revoke
	- 视图
	- 数据本身的加密

13. 能区分什么时候表现出是安全，什么时候表现出是一致性

触发器考7-8分，要用SQL3

触发器这次不难，起码比之前什么什么卡的难度低 一般都用的是元组级

## 第九章 分布式数据库系统

1. 分片
2. 分配
3. 透明性的六层结构

## 第十章 对象关系数据库

1. 定义语句

2. 查询语句

3. 什么是引用

	- 引用类型相当于程序设计中指针的概念，在面向对象技术中被称为**对象标识**。

	- 引用类型这个概念可以把**类型定义**中的实例映射扩充到**类型值域**中的实例映射，提供有关实现细节的抽象。
	- 引用的实现方式避免了无穷嵌套问题。

4. 能区分嵌套关系和复合对象

<img src="https://shu-silence.oss-cn-shanghai.aliyuncs.com/img/2023/image-20230528191632239.png" alt="image-20230528191632239" style="zoom: 25%;" />

<img src="https://shu-silence.oss-cn-shanghai.aliyuncs.com/img/2023/image-20230528192846880.png" alt="image-20230528192846880" style="zoom: 25%;" />



- 平面关系模型：属性都是基本数据类型
- 嵌套关系模型：属性可为基本数据类型、关系类型，数据结构可以多次嵌套。**突破了1NF，一定不是1NF**
- 复合对象模型：与嵌套关系模型相比，属性可以为元组类型。
- 面向对象模型：复合对象中，嵌套采用引用方式，并且加入OOP的继承性等概念。

5. 数据的泛化细化

	- 数据的泛化和细化是对概念之间的联系进行抽象的一种方法。高层是对于底层的泛化，底层是对于高层的细化。

	- 细化联系是is a的联系
	- 高层的对象类型称为超类 底层的称为子类 子类具有继承性

6. 数据类型 p221 表10.1

	- 复合类型：
		- 行（元组、对象、结构）
		- 数组
		- 列表
		- 包（多集）
		- 集合（关系）

	- 聚集类型：数组、列表、集合

	<img src="https://shu-silence.oss-cn-shanghai.aliyuncs.com/img/2023/image-20230528193730112.png" alt="image-20230528193730112" style="zoom:33%;" />

	- 只有数组需要预知元素个数
	- 包（多集）可重，集合（关系）不可重

7. 子表和超表的两个一致性要求

	1. 超表中每个元组最多可以和每个子表中的一个元组对应
	2. 子表中每个元组在超表中恰有一个元组对应，并在继承的属性上有相同的值。



## 判断题

1. 关系模式满足BCNF，就解决了所有的问题 ❌
2. 遵守两段封锁协议，则满足可串行化，满足可串行化，一定遵守两断封锁协议 ❌ p184
3. 两段封锁协议仍有可能导致死锁 ✅ p184